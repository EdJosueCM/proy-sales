{% extends 'base.html' %}

{% block icono %}
    <link rel="icon" href="https://static.vecteezy.com/system/resources/previews/006/445/972/non_2x/wish-list-black-glyph-icon-products-customers-planning-to-buy-online-shopping-website-interface-and-features-silhouette-symbol-on-white-space-solid-pictogram-isolated-illustration-vector.jpg">
{% endblock %}

{% block title %}
    Lista de productos
{% endblock %}

{% block content %}
<div class="table-container">
    <br>
    <h1 class="title">{{ title2 }}</h1>
    <table class="styled-table">
        <thead>
            <tr class="texto_tabla">
                <th>Imagen</th>
                <th>Descripcion</th>
                <th>Precio</th>
                <th>Stock</th>
                <th>Marca</th>
                <th>Categorias</th>
                <th>Linea</th>
                <th>Proveedor</th>
                <th>Fecha Caducidad</th>
                <th>Estado</th>
                <th>Acciones</th>
            </tr>
        </thead>

        <tbody>
        {% for item in products %}
            <tr class="texto_tabla">
            <td><img src={{item.image.url}} alt="" width="50px"> </td>
            <td>{{item.description}}</td>
            <td>{{item.price}}</td>
            <td>{{item.stock}}</td>
            <td>{{item.brand}}</td>
            <td>{{item.get_categories}}</td>
            <td>{{item.get_line_display}}</td>
            <td>{{item.supplier}}</td>
            <td>{{item.expiration_date |date:"Y-m-d"}}</td>
            <td>{% if item.state %}
                ✔
                {% else %}
                ➖
                {% endif %}
            </td>
            <td>
                <a href={% url 'core:product_update' item.id %}>✏️</a>
                <a href={% url 'core:product_delete' item.id %}>❌</a>
            </td>
            </tr>
        {% endfor %}
        </tbody>
    </table>
    
    <div class="form-group botones">
        <button onclick="window.location.href='{% url 'core:product_create' %}' " class="boton tres verde"><span>Nuevo producto</span></button>
    </div>
</div>
{% endblock content  %}